# Database Seed and Dump

The database can be seeded with basic data. This data is generated by a script using the API to create entities.

The script only purpose is to create data with the API (for easier maintainance) and then use the `yarn pg:dump` script to create the `seed.sql` file.

Then, this see can be loaded with `yarn pg:seed`.

## Updating the seed

THE SERVER MUST RUN IN TEST MODE TO HAVE THE MOCKED AGENT BRIDGE API: `yarn server:restart:test`

1. Start by dropping all data: `yarn pg:drop`
2. Re-create the DB: `yarn pg:migrate`
3. Run the script: `tsx databases/dump/create-data.ts`
4. Save the seed: `yarn pg:dump`
